#define A 10 #define B 11#define C 5#define D 4#define E 3#define F 9#define G 8byte seg [16][7]{ {0,0,0,0,0,0,1}, {1,0,0,1,1,1,1}, {0,0,1,0,0,1,0}, {0,0,0,0,1,1,0}, {1,0,0,1,1,0,0}, {0,1,0,0,1,0,0}, {0,1,0,0,0,0,0}, {0,0,0,1,1,1,1}, {0,0,0,0,0,0,0}, {0,0,0,1,1,0,0}, {0,0,0,1,0,0,0}, {1,1,0,0,0,0,0}, {0,1,1,0,0,0,1}, {1,0,0,0,0,1,0}, {0,1,1,0,0,0,0}, {0,1,1,1,0,0,0} };const int BOTAO = 7;int n = 0;int tempo = 0;byte botao;byte botaovelho = HIGH;boolean estadobotao = false;boolean debounce ( boolean last ){boolean current = digitalRead(BOTAO); if( last != current){ delay(6); current = digitalRead(BOTAO); } return current;}void setup() { pinMode(A, OUTPUT); pinMode(B, OUTPUT); pinMode(C, OUTPUT); pinMode(D, OUTPUT); pinMode(E, OUTPUT); pinMode(F, OUTPUT); pinMode(G, OUTPUT); pinMode(BOTAO,INPUT_PULLUP);}void mostradigito( int n ) { digitalWrite(A,seg[n][0]); digitalWrite(B,seg[n][1]); digitalWrite(C,seg[n][2]); digitalWrite(D,seg[n][3]); digitalWrite(E,seg[n][4]); digitalWrite(F,seg[n][5]); digitalWrite(G,seg[n][6]);}void loop() { botao = debounce (estadobotao); if (botao == LOW && botaovelho == HIGH){ estadobotao = !estadobotao; } botaovelho = botao; if(estadobotao == true) { delay(1); if (tempo == 1000){ mostradigito(n); n++; if(n > 15) n = 0; tempo = 0; } else tempo++; } }
